!function(){var e=function(e,t){var i=this;if(i.selector=e,i.options={speed:500,easing:"ease",initialSlide:0,swipe:!0,arrows:!0,arrowsWrapper:!1,dots:!0,loop:!1,autoplay:!1,autoplaySpeed:3e3,lazyLoad:!1,fadeEffect:!1},void 0!==t)for(var o in i.options)null!=t[o]&&(i.options[o]=t[o]);1<document.querySelector(e).children.length&&i.init()};(window.AumSlider=e).prototype.init=function(){var e=this;e.isAnimating=!1,e.createStructure(),e.options.fadeEffect||(e.setSlidesWidth(),e.setTrackPosition(),e.setTrackWidth(),e.setTrackTransition()),e.options.arrows&&e.createArrows(),e.options.dots&&e.createDots(),e.options.autoplay&&e.enableAutoplay(),e.navigateSlider(),e.resizeSlider(),e.options.lazyLoad&&(e.setImageDataSrc(),e.loadImage(e.options.initialSlide),e.options.loop&&!e.options.fadeEffect&&(1==e.options.initialSlide&&e.loadImage(e.slides.length-1),e.options.initialSlide==e.slides.length-2&&e.loadImage(0))),e.options.fadeEffect&&e.setFadeEffect()},e.prototype.createStructure=function(){var e=this;e.slider=document.querySelector(e.selector),e.originalHTML=e.slider.innerHTML,e.slider.classList.add("aum-slider","initialized"),e.options.lazyLoad?e.slider.classList.add("lazy"):e.slider.classList.remove("lazy");for(var t=0;t<e.slider.children.length;t++)e.slider.children[t].classList.add("aum-slide");var i='<div class="aum-list"><div class="aum-track">'+e.slider.innerHTML+"</div></div>";e.slider.innerHTML=i,e.list=e.slider.querySelector(".aum-list"),e.track=e.slider.querySelector(".aum-track"),e.originalSlides=e.slider.querySelectorAll(".aum-slide"),e.slides=e.cloneSlides()||e.originalSlides,e.slides=Array.prototype.slice.call(e.slides)},e.prototype.cloneSlides=function(){var e=this;if(e.options.loop&&!e.options.fadeEffect){var t=e.track.firstElementChild.cloneNode(!0),i=e.track.lastElementChild.cloneNode(!0);return t.classList.add("aum-clone"),i.classList.add("aum-clone"),e.track.insertBefore(t,null),e.track.insertBefore(i,e.track.firstElementChild),e.allSlides=e.slider.querySelectorAll(".aum-slide"),e.allSlides}},e.prototype.setSlidesWidth=function(){var e=this;e.slideWidth=e.list.clientWidth;for(var t=0;t<e.slides.length;t++)e.slides[t].style.width=e.slideWidth+"px"},e.prototype.setTrackPosition=function(){var e=this,t=e.options.loop?++e.options.initialSlide:e.options.initialSlide,i=e.currentSlideIndex||t;e.track.style.transform="translateX(-"+i*e.slideWidth+"px)"},e.prototype.setTrackWidth=function(){var e=this;e.track.style.width=e.slides[0].clientWidth*e.slides.length+"px"},e.prototype.setTrackTransition=function(){var e=this;e.track.style.transition="transform "+e.options.speed/1e3+"s "+e.options.easing},e.prototype.createArrows=function(){var e=this;e.arrows='<button class="aum-arrow aum-prev">prev</button><button class="aum-arrow aum-next">next</button>',e.options.arrowsWrapper?(e.arrowsWrapper='<div class="aum-arrows">'+e.arrows+"</div>",e.list.insertAdjacentHTML("beforeend",e.arrowsWrapper)):e.list.insertAdjacentHTML("beforeend",e.arrows),e.prevArrow=e.list.querySelector(".aum-prev"),e.nextArrow=e.list.querySelector(".aum-next"),e.options.loop||e.toggleArrows(e.options.initialSlide)},e.prototype.createDots=function(){for(var e,t=this,i=[],o=t.options.loop&&!t.options.fadeEffect?t.options.initialSlide-1:t.options.initialSlide,r=0;r<t.originalSlides.length;r++)e=r==o?" aum-current":"",i.push('<button class="aum-dot'+e+'">'+r+"</button>");var n='<div class="aum-dots">'+i.join("")+"</div>";t.list.insertAdjacentHTML("beforeend",n),t.dotsWrapper=t.list.querySelector(".aum-dots"),t.dots=t.dotsWrapper.querySelectorAll(".aum-dot"),t.currentDot=t.dotsWrapper.querySelector(".aum-dot.aum-current"),t.currentDotIndex=Array.prototype.slice.call(t.dotsWrapper.children).indexOf(t.currentDot)},e.prototype.navigateSlider=function(){var e=this;e.currentSlideIndex=e.options.initialSlide,e.currentSlide=e.slides[e.currentSlideIndex],e.currentSlide.classList.add("aum-current"),e.options.arrows&&e.navigateWithArrows(),e.options.dots&&e.navigateWithDots(),e.options.swipe&&e.navigateOnSwipe()},e.prototype.navigateOnSwipe=function(){var t,i,e=this;e.track.addEventListener("touchstart",function(e){t=e.touches[0].clientX}),e.track.addEventListener("touchmove",function(e){i=e.touches[0].clientX}),e.track.addEventListener("touchend",function(){e.isAnimating||(e.isAnimating=!0,t+50<i&&e.rotateSliderBack(),i<t-50&&e.rotateSliderForward(),setTimeout(function(){e.isAnimating=!1},e.options.speed))})},e.prototype.navigateWithArrows=function(){var t=this;function e(e){t.navigate=e,t.isAnimating||(t.isAnimating=!0,t.navigate(),setTimeout(function(){t.isAnimating=!1},t.options.speed))}t.prevArrow.addEventListener("click",function(){e(t.rotateSliderBack)}),t.nextArrow.addEventListener("click",function(){e(t.rotateSliderForward)})},e.prototype.disableArrow=function(e){e.classList.add("disabled")},e.prototype.enableArrow=function(e){e.classList.remove("disabled")},e.prototype.toggleArrows=function(e){var t=this;0==e?(t.prevArrow.classList.contains("disabled")||t.disableArrow(t.prevArrow),t.enableArrow(t.nextArrow)):(e==t.slides.length-1?t.nextArrow.classList.contains("disabled")||t.disableArrow(t.nextArrow):t.enableArrow(t.nextArrow),t.enableArrow(t.prevArrow))},e.prototype.navigateWithDots=function(){var i=this;i.dotsWrapper.addEventListener("click",function(e){if(!i.isAnimating){if(i.isAnimating=!0,e.target.classList.contains("aum-dot")){var t=Array.prototype.slice.call(this.children).indexOf(e.target);i.changeCurrentDot(t),i.changeCurrentSlide(i.options.loop&&!i.options.fadeEffect?t+1:t),!i.options.loop&&i.options.arrows&&i.toggleArrows(i.currentSlideIndex)}setTimeout(function(){i.isAnimating=!1},i.options.speed)}})},e.prototype.changeCurrentDot=function(e){var t=this;t.currentDotIndex=e,t.currentDot.classList.remove("aum-current"),t.currentDot=t.dots[t.currentDotIndex],t.currentDot.classList.add("aum-current")},e.prototype.changeCurrentSlide=function(e){var t=this;t.currentSlideIndex=e,t.prevCurrentSlide=t.currentSlide,t.currentSlide.classList.remove("aum-current"),t.currentSlide=t.slides[t.currentSlideIndex],t.currentSlide.classList.add("aum-current"),t.options.fadeEffect?t.fadeSlide(t.currentSlideIndex):(t.track.style.transform="translateX(-"+t.currentSlideIndex*t.slideWidth+"px)",t.track.style.transition||t.setTrackTransition())},e.prototype.rotateSliderBack=function(){var e=this;e.currentSlide.previousElementSibling?(--e.currentSlideIndex,e.changeCurrentSlide(e.currentSlideIndex),e.options.lazyLoad&&(e.loadImage(e.currentSlideIndex),e.options.loop&&!e.options.fadeEffect&&(1==e.currentSlideIndex&&e.loadImage(e.slides.length-1),e.currentSlideIndex==e.slides.length-2&&e.loadImage(0))),e.options.dots&&e.currentDot.previousElementSibling&&e.changeCurrentDot(e.options.loop&&!e.options.fadeEffect?e.currentSlideIndex-1:e.currentSlideIndex)):e.options.loop&&e.options.fadeEffect&&(e.changeCurrentSlide(e.slides.length-1),e.options.lazyLoad&&e.loadImage(e.slides.length-1),e.options.dots&&e.changeCurrentDot(e.slides.length-1)),0==e.currentSlideIndex?e.options.loop?e.options.fadeEffect||(e.loopSlider(e.slides.length-2),e.options.lazyLoad&&e.loadImage(e.slides.length-2),e.options.dots&&e.changeCurrentDot(e.slides.length-3)):e.options.arrows&&e.disableArrow(e.prevArrow):e.options.arrows&&!e.options.loop&&e.enableArrow(e.nextArrow)},e.prototype.rotateSliderForward=function(){var e=this;e.currentSlide.nextElementSibling?(++e.currentSlideIndex,e.changeCurrentSlide(e.currentSlideIndex),e.options.lazyLoad&&(e.loadImage(e.currentSlideIndex),e.options.loop&&!e.options.fadeEffect&&(1==e.currentSlideIndex&&e.loadImage(e.slides.length-1),e.currentSlideIndex==e.slides.length-2&&e.loadImage(0))),e.options.dots&&e.currentDot.nextElementSibling&&e.changeCurrentDot(e.options.loop&&!e.options.fadeEffect?e.currentSlideIndex-1:e.currentSlideIndex)):e.options.loop&&e.options.fadeEffect&&(e.changeCurrentSlide(0),e.options.lazyLoad&&e.loadImage(0),e.options.dots&&e.changeCurrentDot(0)),e.currentSlideIndex==e.slides.length-1?e.options.loop?e.options.fadeEffect||(e.loopSlider(1),e.options.lazyLoad&&e.loadImage(1),e.options.dots&&e.changeCurrentDot(0)):e.options.arrows&&e.disableArrow(e.nextArrow):e.options.arrows&&!e.options.loop&&e.enableArrow(e.prevArrow)},e.prototype.loopSlider=function(e){var t=this;setTimeout(function(){t.changeCurrentSlide(e),t.track.style.transition=""},t.options.speed)},e.prototype.enableAutoplay=function(){var e=this,t=!1,i=Math.max(e.options.autoplaySpeed,e.options.speed+50);e.autoplayTimer=null;var o=function(){e.autoplayTimer&&(e.currentSlideIndex==e.slides.length-1&&(t=!0),0==e.currentSlideIndex&&(t=!1),t?e.options.loop?e.options.fadeEffect&&(e.changeCurrentSlide(0),e.options.lazyLoad&&e.loadImage(0),e.options.dots&&e.changeCurrentDot(0)):(--e.currentSlideIndex,e.changeCurrentSlide(e.currentSlideIndex),e.options.lazyLoad&&e.loadImage(e.currentSlideIndex),e.options.dots&&e.changeCurrentDot(e.currentSlideIndex)):(e.currentSlideIndex!=e.slides.length-1&&(++e.currentSlideIndex,e.changeCurrentSlide(e.currentSlideIndex),e.options.lazyLoad&&e.loadImage(e.currentSlideIndex)),e.options.dots&&(e.options.loop&&!e.options.fadeEffect?e.currentSlideIndex==e.slides.length-1?e.changeCurrentDot(0):e.changeCurrentDot(e.currentSlideIndex-1):e.changeCurrentDot(e.currentSlideIndex))),!e.options.loop&&e.options.arrows&&e.toggleArrows(e.currentSlideIndex)),e.autoplayTimer=setTimeout(o,i)};o(),e.track.addEventListener("transitionend",function(){e.currentSlideIndex==e.slides.length-1&&e.options.loop&&!e.options.fadeEffect&&(e.changeCurrentSlide(1),e.options.lazyLoad&&e.loadImage(1),e.track.style.transition="")})},e.prototype.clearAutoplayTimer=function(){this.autoplayTimer&&clearTimeout(this.autoplayTimer)},e.prototype.resizeSlider=function(){var e,t=this;window.addEventListener("resize",function(){t.options.fadeEffect||(t.track.style.transition="",clearTimeout(e),e=setTimeout(function(){t.setSlidesWidth(),t.setTrackWidth(),t.setTrackPosition()},50))})},e.prototype.setImageDataSrc=function(){this.slides.forEach(function(e){e.querySelector("img").setAttribute("data-src",e.querySelector("img").getAttribute("src")),e.querySelector("img").removeAttribute("src")})},e.prototype.loadImage=function(e){var t=this.slides[e];t.classList.add("load");var i=t.querySelector("img");i.setAttribute("src",i.getAttribute("data-src")),i.classList.add("load"),i.addEventListener("load",function(){i.complete&&(t.classList.remove("load"),t.classList.add("loaded"),i.classList.remove("load"),i.classList.add("loaded"))})},e.prototype.setFadeEffect=function(){var t=this;t.slider.classList.add("fade"),t.slides.forEach(function(e){e!==t.currentSlide&&(e.style.transition="",e.style.opacity=0,e.style.visibility="hidden")})},e.prototype.fadeSlide=function(e){var t=this,i=t.slides[e],o=t.options.speed/1e3+"s "+t.options.easing;setTimeout(function(){t.prevCurrentSlide.style.transition="",t.prevCurrentSlide.style.opacity=0,t.prevCurrentSlide.style.visibility="hidden"},t.options.speed);i.style.transition="opacity "+o+", visibility "+o,i.style.opacity=1,i.style.visibility="visible"},e.prototype.destroy=function(){this.clearAutoplayTimer(),this.slider.innerHTML=this.originalHTML,this.slider.classList.remove("aum-slider","initialized","fade")},e.prototype.reinit=function(){var e=this;e.slider.classList.contains("initialized")&&e.destroy(),e.init(),e.options.fadeEffect||(e.track.style.transition="",e.track.style.transform="translateX(-"+e.options.initialSlide*e.slideWidth+"px)")}}();